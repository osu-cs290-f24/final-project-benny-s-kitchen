<main>
    <h2>All Recipes</h2>
    <div class="recipe-grid" id="all-recipe-grid">
        {{#each recipes}}
        {{> recipe}}
        {{/each}}
    </div>
</main>

<button id="add-recipe">+</button>

<!-- Search Modal -->
<div id="search-modal" class="modal hidden">
    <div class="modal-content">
        <span class="close" onclick="closeModal('search-modal')">&times;</span>
        <h2>Search Recipes</h2>

        <!-- Stylish Search Bar -->
        <div class="search-bar-container">
            <input type="text" placeholder="Search for recipes..." id="search-query" class="search-bar">
            <button class="search-button" onclick="applyFilters()">üîç</button>
        </div>

        <h3>Filters</h3>
        <form id="search-filters">

            <!-- Dropdown Menu -->
            <h4>Meal Type</h4>
            <select id="meal-type" name="meal-type">
                <option value="">-- Select Meal Type --</option>
                <option value="Breakfast">Breakfast</option>
                <option value="Lunch">Lunch</option>
                <option value="Dinner">Dinner</option>
                <option value="Dessert">Dessert</option>
                <option value="Snack">Snack</option>
            </select>

            <h4>Categories</h4>
            <label>
                <input type="checkbox" value="Vegetarian"> Vegetarian
            </label>
            <label>
                <input type="checkbox" value="Vegan"> Vegan
            </label>
            <label>
                <input type="checkbox" value="Gluten-Free"> Gluten-Free
            </label>
            <button type="button" onclick="applyFilters()">Apply Filters</button>
        </form>
    </div>
</div>

<!-- Sign Up Modal -->
<div id="signup-modal" class="modal hidden">
    <div class="modal-content">
        <span class="close" onclick="closeModal('signup-modal')">&times;</span>
        <h2>Sign Up or Log In</h2>
        <form>
            <input type="text" placeholder="Username" required>
            <input type="password" placeholder="Password" required>
            <button type="submit">Submit</button>
        </form>
    </div>
</div>

<!-- Add Recipe Modal -->
<div id="add-recipe-modal" class="modal hidden">
    <div class="modal-content">
        <span class="close" id="close-add-recipe-modal">&times;</span>
        <h2>Add a New Recipe</h2>
        <form id="add-recipe-form">
            <input type="text" name="title" placeholder="Recipe Name" required>
            <input type="file" name="image" accept="image/*">
            <textarea name="description" placeholder="Recipe Description" required></textarea>
            <h3>Ingredients</h3>
            <div id="ingredientsContainer">
                <div class="field-group">
                    <input type="text" name="ingredient[]" placeholder="e.g. 2 cups flour" required />
                    <span class="remove-field" style="display:none;">X</span>
                </div>
            </div>
            <button type="button" id="add-ingredient-button">Add Ingredient</button>

            <h3>Instructions</h3>
            <div id="instructionsContainer">
                <div class="field-group">
                    <input type="text" name="instruction[]" placeholder="e.g. Preheat oven to 350¬∞F" required />
                    <span class="remove-field" style="display:none;">X</span>
                </div>
            </div>
            <button type="button" id="add-instruction-button">Add Instruction</button>

            <!-- Dropdown Menu  -->
            <div id="difficulty-preptime">
                <div>
                    <h3>Difficulty</h3>
                    <select id="difficulty" name="difficulty">
                        <option value="">-- Select Difficulty --</option>
                        <option value="easy">Easy</option>
                        <option value="medium">Medium</option>
                        <option value="hard">Hard</option>
                    </select>
                </div>
                <div>
                    <h3>Prep time in minutes</h3>
                    <input type="numeric" inputmode="numeric" name="preptime" pattern="^\d+$" placeholder="Preparation Time" required>
                </div>
            </div>

            <h3>Categories</h3>
            <label>
                <input type="checkbox" name="category" value="vegetarian"> Vegetarian
            </label>
            <label>
                <input type="checkbox" name="category" value="vegan"> Vegan
            </label>
            <label>
                <input type="checkbox" name="category" value="gluten_free"> Gluten-Free
            </label>
            <button id="add-recipe-button" type="submit">Add Recipe</button>
        </form>
    </div>
</div>